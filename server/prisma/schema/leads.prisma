model Lead {
    id                Int            @id @default(autoincrement())
    title             String?
    quotationAmount   Float?         @default(0)
    clientBudget      Float
    status            String         @default("New")
    probability       Int?           @default(0)
    expectedCloseDate DateTime?
    notes             String?
    guests            Int?
    venue             String?
    eventType         String?
    eventDate         DateTime?
    finalAmount       Float?
    advanceAmount     Float?
    siteVisitDate     DateTime?
    siteVisitTime     String?
    bookingNotes      String?
    bookedAt          DateTime?
    bookedBy          String?
    createdAt         DateTime       @default(now())
    updatedAt         DateTime       @updatedAt
    contactId         Int
    sourceId          Int?
    assignedTo        Int?
    assignee          User?          @relation(fields: [assignedTo], references: [id])
    contact           Contact        @relation(fields: [contactId], references: [id])
    source            Sources?       @relation(fields: [sourceId], references: [id])
    activities        LeadActivity[]
    notifications     Notification[]
    payments          Payment[]
}

model Payment {
    id        Int      @id @default(autoincrement())
    amount    Float
    date      DateTime @default(now())
    type      String   @default("Payment")
    notes     String?
    leadId    Int
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt
    lead      Lead     @relation(fields: [leadId], references: [id], onDelete: Cascade)
}

model LeadActivity {
    id        Int      @id @default(autoincrement())
    leadId    Int
    userId    Int?
    type      String   @default("NOTE")
    content   String
    createdAt DateTime @default(now())
    lead      Lead     @relation(fields: [leadId], references: [id], onDelete: Cascade)
    user      User?    @relation(fields: [userId], references: [id])
}
