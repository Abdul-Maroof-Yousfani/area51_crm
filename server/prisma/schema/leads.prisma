model Lead {
    id                Int       @id @default(autoincrement())
    title             String?
    amount            Float     @default(0)
    status            String    @default("New")
    probability       Int?      @default(0)
    expectedCloseDate DateTime?
    notes             String?

    // Booking/Event fields
    guests        Int?
    venue         String?
    eventType     String?
    eventDate     DateTime?
    finalAmount   Float?
    advanceAmount Float?

    // Site visit fields
    siteVisitDate DateTime?
    siteVisitTime String?

    // Booking Details
    bookingNotes String?
    bookedAt     DateTime?
    bookedBy     String?

    // Relations
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    contactId Int
    contact   Contact @relation(fields: [contactId], references: [id])

    sourceId Int?
    source   Sources? @relation(fields: [sourceId], references: [id])

    assignedTo Int?
    assignee   User? @relation(fields: [assignedTo], references: [id])

    activities LeadActivity[]
}

model LeadActivity {
    id        Int      @id @default(autoincrement())
    leadId    Int
    lead      Lead     @relation(fields: [leadId], references: [id], onDelete: Cascade)
    userId    Int?
    user      User?    @relation(fields: [userId], references: [id])
    type      String   @default("NOTE") // NOTE, STATUS_CHANGE, CALL, SYSTEM
    content   String
    createdAt DateTime @default(now())
}
